<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
	"http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<!-- 
    Mapping file autogenerated by MyEclipse Persistence Tools
-->
<hibernate-mapping default-access="field">
    <class name="org.eapp.workflow.def.FlowDefine" table="WF_FLOWDEFINE">
        <cache usage="nonstrict-read-write"/>
        <id name="id" type="string">
            <column name="ID_" length="36" />
            <generator class="uuid2"></generator>
        </id>
        
        <many-to-one name="startNode" class="org.eapp.workflow.def.Node" fetch="select">
            <column name="STARTNODE_" length="36" />
        </many-to-one>
        
        <property name="flowKey" type="string" update="false">
            <column name="FLOWKEY_" length="36" not-null="true" />
        </property>
        
        <property name="name" type="string">
            <column name="NAME_" length="400" not-null="true" />
        </property>
        
        <property name="version" type="long" update="false">
            <column name="VERSION_" length="11" />
        </property>
        
        <property name="state" type="string">
            <column name="STATE_" length="20" not-null="true" />
        </property>
        
        <property name="category" type="string">
            <column name="CATEGORY_" length="20" />
        </property>
        
        <property name="description" type="string">
            <column name="DESCRIPTION_" length="1000" />
        </property>
        <property name="textDefine" type="string" lazy="true">
            <column name="XMLDEFINE_"/>
        </property>

        <list name="nodes" cascade="all">
            <cache usage="nonstrict-read-write"/>
            <key>
                <column name="FLOWDEFINE_" length="36" />
            </key>
            <list-index column="LISTORDER_" />
            <one-to-many class="org.eapp.workflow.def.Node" />
        </list>
        
		<map name="events" cascade="all">      
			<cache usage="nonstrict-read-write"/>
			<key column="FLOWDEFINE_" />
			<index column="EVENTTYPE_" type="string"/>
			<one-to-many class="org.eapp.workflow.def.Event" />
		</map>        
		
		<map name="actions" cascade="all" inverse="true">
	      	<cache usage="nonstrict-read-write"/>
	      	<key column="FLOWDEFINE_" />
	      	<map-key column="NAME_" type="string"/>
	      	<one-to-many class="org.eapp.workflow.def.Action" />
	    </map>
	    
	    <map name="variableDeclares" cascade="all">
	      	<cache usage="nonstrict-read-write"/>
	      	<key column="FLOWDEFINE_" />
	      	<map-key column="NAME_" type="string"/>
	      	<one-to-many class="org.eapp.workflow.def.VariableDeclare" />
	    </map>
    
    </class>
</hibernate-mapping>
